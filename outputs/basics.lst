GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 1
SETUP
C o m p i l a t i o n


   2   
      • Objective = CAPEX_lines + CAPEX_storage + VOLL + Generation Rejection Penalty + Generation Cost
      • Power balance: g_it - d_it + Σ_j f_jit  - W_it + L_it - C_it + R_it = 0
      • Box constraints for gen, shedding, curtailment (W ≤ g), storage power, SOC
      • Antisymmetric flows and line capacities: -Fmax·x ≤ f ≤ Fmax·x
  11   
  12  *=====================================================
  13  * 1) SETS
  14  *=====================================================
  15  Set n "nodes" / n1*n3 /;
  16  Alias (n,i,j);
  17  Set t "time periods" / t1*t2 /;
  18   
  19   
  20  Set und(i,j) "undirected candidate lines (i<j)"
  21  / n1.n2, n1.n3, n2.n3 /;
  22   
  23  Set a(i,j) "directed arcs";
  24  a(i,j) = yes$(und(i,j) or und(j,i));
  25   
  26  *=====================================================
  27  * 2) PARAMETERS
  28  *=====================================================
  29  Scalar
  30      CL     "Line cost [$ per km]"                / 150000 /
  31      CS     "Storage energy cost [$/MWh]"         / 120 /
  32      VOLL   "Value of lost load [$/MWh]"          / 1e17 /
  33      PCURT  "Penalty for generation rejection [$/MWh]" / 500000 /;
  34  Parameter cg(n) "gen marginal cost [$/MWh]";
  35  cg('n1') = 20;  cg('n2') = 60;  cg('n3') = 45;
  36   
  37  Table dist(i,j) "distance [km]"
  38           n1  n2  n3
  39     n1     0  60  90
  40     n2     0   0  50
  41     n3     0   0   0 ;
  42  dist(j,i)$(dist(i,j) and not dist(j,i)) = dist(i,j);
  43   
  44  Parameter Fmax(i,j) "line capacity [MW]";
  45  Fmax(i,j) = 100$und(i,j);
  46  Fmax(j,i)$(und(i,j)) = Fmax(i,j);
  47   
  48  Parameter
  49      d(n,t)    "demand [MW]"
  50      gmax(n,t) "dispatchable generation max [MW]" ;
  51   
  52  * ---- Node data ----
  53  d('n1','t1') = 20; d('n1','t2') = 15;
  54  d('n2','t1') = 60; d('n2','t2') = 70;
  55  d('n3','t1') = 40; d('n3','t2') = 30;
  56   
  57  gmax('n1','t1') = 120; gmax('n1','t2') = 120;
  58  gmax('n2','t1') =  10; gmax('n2','t2') =  15;
  59  gmax('n3','t1') =  20; gmax('n3','t2') =  20;
  60   
  61  * ---- SOC parameters ----
  62  Scalar alpha0 "initial SOC fraction of E(i)" / 0.1 /;
  63  Scalar h_end_frac "final SOC fraction of E(i)" / 0 /;
  64  *=====================================================
  65  * 3) VARIABLES
  66  *=====================================================
  67  Binary Variable x(i,j) "line built (1=yes)";
  68  Variable f(i,j,t) "flow [MW]";
  69   
  70  Positive Variables
  71      g(n,t) "generation [MW]"
  72      L(n,t) "load shedding [MW]"
  73      W(n,t) "generation rejection [MW]"
  74      C(n,t) "charging [MW]"
  75      R(n,t) "discharging [MW]"
  76      h(n,t) "state of charge [MWh]"
  77      E(n)   "storage energy [MWh]";
  78   
  79  Variable OF "objective function";
  80   
  81  *=====================================================
  82  * 4) SCENARIO RESTRICTIONS
  83  *=====================================================
  84  * --- Scenario toggles (0 = off, 1 = on) ---
  85  Scalar ONLY_LINES   / 0 /,
  86         ONLY_STORAGE / 1 /;
  87   
  88  * Only-line analysis
  89  E.up(i)$(ONLY_LINES=1)     = 0;
  90  C.up(i,t)$(ONLY_LINES=1)   = 0;
  91  R.up(i,t)$(ONLY_LINES=1)   = 0;
  92  h.up(i,t)$(ONLY_LINES=1)   = 0;
  93   
  94  * Only-storage analysis
  95  x.fx(i,j)$(ONLY_STORAGE=1 and a(i,j))   = 0;
  96  f.fx(i,j,t)$(ONLY_STORAGE=1 and a(i,j)) = 0;
  97   
  98  *=====================================================
  99  * 5) EQUATIONS
 100  *=====================================================
 101   
 102  *----- Objective ------------------------------------------------------------
 103  Equation obj;
 104  obj..
 105      OF =e=
 106          sum((i,j)$(ord(i)<ord(j) and und(i,j)), CL*dist(i,j)*x(i,j))
 107        + sum(i, CS*E(i))
 108        + sum((i,t), VOLL*L(i,t))
 109        + sum((i,t), PCURT*W(i,t))
 110        + sum((i,t), cg(i)*g(i,t));
 111   
 112  *----- Symmetry and antisymmetry -------------------------------------------
 113  Equation symm(i,j), antisym(i,j,t);
 114  symm(i,j)$(a(i,j) and ord(i)<ord(j)).. x(i,j) =e= x(j,i);
 115  antisym(i,j,t)$(a(i,j) and ord(i)<ord(j)).. f(i,j,t) + f(j,i,t) =e= 0;
 116   
 117  *----- Line capacities -----------------------------------------------------
 118  Equation capPos(i,j,t), capNeg(i,j,t);
 119  capPos(i,j,t)$(a(i,j))..  f(i,j,t) =l= Fmax(i,j)*x(i,j);
 120  capNeg(i,j,t)$(a(i,j)).. -f(i,j,t) =l= Fmax(i,j)*x(i,j);
 121   
 122  *----- Power balance -------------------------------------------------------
 123  Equation balance(i,t);
 124  balance(i,t)..
 125      g(i,t) - d(i,t) + sum(j$a(j,i), f(j,i,t))
 126    - W(i,t) + L(i,t) - C(i,t) + R(i,t) =e= 0;
 127   
 128  *----- SOC dynamics --------------------------------------------------------
 129  Positive Variable h0(i) "SOC at start of t1 [MWh]";
 130  Equation def_h0(i);
 131  def_h0(i).. h0(i) =e= alpha0*E(i);
 132   
 133  Equation socEnd1(i), socEndF(i,t), terminalEnd(i);
 134  socEnd1(i)..              h(i,'t1') =e= h0(i) + C(i,'t1') - R(i,'t1');
 135  socEndF(i,t)$(ord(t)>1).. h(i,t)    =e= h(i,t-1) + C(i,t) - R(i,t);
 136  h.lo(i,t) = 0; !! No negative state of charge
 137   
 138  * Terminal SOC condition (connot empty storage?)
 139  Equation terminalEnd(i);
 140  terminalEnd(i)..  sum(t$(ord(t)=card(t)), h(i,t)) =e= h_end_frac * E(i);
 141   
 142  *----- Storage power feasibility ------------------------------------------
 143  Equation disEnergyCap0(i), disEnergyCapF(i,t), chgEnergyCap0(i), chgEnergyCapF(i,t);
 144  disEnergyCap0(i)..              R(i,'t1') =l= alpha0*E(i);
 145  disEnergyCapF(i,t)$(ord(t)>1).. R(i,t)    =l= h(i,t-1);
 146  chgEnergyCap0(i)..              C(i,'t1') =l= E(i) - h0(i);
 147  chgEnergyCapF(i,t)$(ord(t)>1).. C(i,t)    =l= E(i) - h(i,t-1);
 148   
 149  *----- SOC limits ----------------------------------------------------------
 150  Equation socBox(i,t);
 151  socBox(i,t).. h(i,t) =l= E(i);
 152   
 153  *----- Operational box constraints ----------------------------------------
 154  Equation gBox(i,t);
 155  gBox(i,t)..  g(i,t) =l= gmax(i,t); !! 0 ≤ g ≤ gmax = Generators can’t exceed their max.
 156   
 157  Equation LBox(i,t);
 158  LBox(i,t)..  L(i,t) =l= d(i,t); !! 0 ≤ L ≤ demand = Can’t shed more load than exists.
 159   
 160  Equation WleqG(i,t);
 161  WleqG(i,t).. W(i,t) =l= g(i,t); !! 0 ≤ W ≤ g = Can’t reject more generation than you produce
 162   
 163  *=====================================================
 164  * 6) DOMAINING & BOUNDS
 165  *=====================================================
 166  * For any (i,j) that is not a candidate arc, fix the build variable and flow to 0.
 167  x.fx(i,j)$(not a(i,j)) = 0;
 168  f.fx(i,j,t)$(not a(i,j)) = 0;
 169  * Forbid i=i
 170  x.fx(i,i) = 0;  f.fx(i,i,t) = 0;
 171   
 172   
 173  *=====================================================
 174  * 7) SOLVE
 175  *=====================================================
 176  Model plan / all /;
 177  option optCR = 0;
 178  solve plan using mip minimizing OF;
 179   
 180  *=====================================================
 181  * 8) REPORT
 182  *=====================================================
 183  display "LINE BUILT ============================================== ";
 184  Parameter built_line(i,j);
 185  built_line(i,j)$und(i,j) = round(x.l(i,j));
 186  display built_line;
 187   
 188  display "STORAGE BUILT ============================================== ";
 189  Parameter built_store(i);
 190  built_store(i) = round(E.l(i));
 191  display built_store;
 192   
 193  *----- Cost breakdown ------------------------------------------------------
 194  display "COST BREAKDOWN ============================================== ";
 195  Scalar
 196     cost_lines   "Line CAPEX"
 197     cost_store   "Storage energy CAPEX"
 198     cost_voll    "Shed penalty"
 199     cost_curt    "Curtailment penalty"
 200     cost_gen     "Generation operating cost"
 201     cost_total   "Objective value (OF)";
 202  cost_lines = sum((i,j)$(ord(i)<ord(j) and und(i,j)), CL*dist(i,j)*x.l(i,j));
 203  cost_store = sum(i, CS*E.l(i));
 204  cost_voll  = sum((i,t), VOLL * L.l(i,t));
 205  cost_curt  = sum((i,t), PCURT * W.l(i,t));
 206  cost_gen   = sum((i,t), cg(i) * g.l(i,t));
 207  cost_total = OF.l;
 208  display cost_lines, cost_store, cost_voll, cost_curt, cost_gen, cost_total;
 209   
 210  *----- Node operations -----------------------------------------------------
 211  display "OPERATIONS SUMMARY - NODE LEVEL ===================================== ";
 212  Parameter
 213     flows(i,j,t)   "flow [MW]"
 214     gen(i,t)       "generation [MW]"
 215     dem(i,t)       "demand [MW]"
 216     shed(i,t)      "load shedding [MW]"
 217     curt(i,t)      "generation rejection [MW]"
 218     charge(i,t)    "charging [MW]"
 219     discharge(i,t) "discharging [MW]"
 220     soc(i)       "initial SOC[MWh]";
 221  flows(i,j,t)   = f.l(i,j,t);
 222  gen(i,t)       = g.l(i,t);
 223  dem(i,t)       = d(i,t);
 224  shed(i,t)      = L.l(i,t);
 225  curt(i,t)      = W.l(i,t);
 226  charge(i,t)    = C.l(i,t);
 227  discharge(i,t) = R.l(i,t);
 228  soc(i)       = h0.l(i);
 229  display dem, gen, shed, curt, charge, discharge, soc;
 230   
 231  *----- System operations ---------------------------------------------------
 232  display "OPERATIONS SUMMARY - SYSTEM LEVEL ===================================== ";
 233  Parameter
 234     gen_t(t)    "system generation by time [MW]"
 235     dem_t(t)    "system demand by time [MW]"
 236     shed_t(t)   "system shed by time [MW]"
 237     curt_t(t)   "system curtailment by time [MW]"
 238     inflow(i,t) "sum flows into i [MW]"
 239     outflow(i,t) "sum flows out of i [MW]";
 240  gen_t(t)  = sum(i, gen(i,t));
 241  dem_t(t)  = sum(i, dem(i,t));
 242  shed_t(t) = sum(i, shed(i,t));
 243  curt_t(t) = sum(i, curt(i,t));
 244  inflow(i,t)  = sum(j$a(j,i), f.l(j,i,t));
 245  outflow(i,t) = sum(j$a(i,j), f.l(i,j,t));
 246  display dem_t, gen_t, shed_t, curt_t, inflow, outflow;
 247   
 248  *----- Storage summary -----------------------------------------------------
 249  display "STORAGE ============================================== ";
 250  Parameter
 251     h_start(i)       'SOC at START of t1 [MWh] = alpha0*E'
 252     h_t1_end(i)      'SOC at END of t1 [MWh]'
 253     h_end(i)         'SOC at END of last period [MWh]'
 254     R_sum(i)         'sum discharge over horizon [MWh]'
 255     C_sum(i)         'sum charge over horizon [MWh]'
 256     Storage_check(i) 'h_start + ΣC - ΣR - h_end (should = 0)';
 257   
 258  h_start(i)  = h0.l(i);        !! start of horizon
 259  h_t1_end(i) = sum(t$(ord(t)=1), h.l(i,t)); !! end of t1
 260  h_end(i)    = sum(t$(ord(t)=card(t)), h.l(i,t));     !! end of last period
 261  R_sum(i)    = sum(t, R.l(i,t));
 262  C_sum(i)    = sum(t, C.l(i,t));
 263  Storage_check(i) = h_start(i) + C_sum(i) - R_sum(i) - h_end(i);
 264   
 265  display h_start, h_t1_end, h_end, R_sum, C_sum, Storage_check;
 266   
 267  *----- Balance check -------------------------------------------------------
 268  display "BALANCE CHECK ============================================== ";
 269  Parameter balanceResidual(i,t);
 270  balanceResidual(i,t) = gen(i,t) - dem(i,t) + inflow(i,t)
 271                       - curt(i,t) + shed(i,t) - charge(i,t) + discharge(i,t);
 272  display balanceResidual;
 273   


COMPILATION TIME     =        0.000 SECONDS      3 MB  51.2.0 56392656 WEX-WEI
GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 2
SETUP
Equation Listing    SOLVE plan Using MIP From line 178


---- obj  =E=  

obj..  - 9000000*x(n1,n2) - 13500000*x(n1,n3) - 7500000*x(n2,n3) - 20*g(n1,t1) - 20*g(n1,t2) - 60*g(n2,t1) - 60*g(n2,t2) - 45*g(n3,t1) - 45*g(n3,t2) - 1E17*L(n1,t1) - 1E17*L(n1,t2) - 1E17*L(n2,t1) - 1E17*L(n2,t2) - 1E17*L(n3,t1) - 1E17*L(n3,t2) - 500000*W(n1,t1) - 500000*W(n1,t2) - 500000*W(n2,t1) - 500000*W(n2,t2) - 500000*W(n3,t1) - 500000*W(n3,t2) - 120*E(n1) - 120*E(n2) - 120*E(n3) + OF =E= 0 ; (LHS = 0)
     

---- symm  =E=  

symm(n1,n2)..  x(n1,n2) - x(n2,n1) =E= 0 ; (LHS = 0)
     
symm(n1,n3)..  x(n1,n3) - x(n3,n1) =E= 0 ; (LHS = 0)
     
symm(n2,n3)..  x(n2,n3) - x(n3,n2) =E= 0 ; (LHS = 0)
     

---- antisym  =E=  

antisym(n1,n2,t1)..  f(n1,n2,t1) + f(n2,n1,t1) =E= 0 ; (LHS = 0)
     
antisym(n1,n2,t2)..  f(n1,n2,t2) + f(n2,n1,t2) =E= 0 ; (LHS = 0)
     
antisym(n1,n3,t1)..  f(n1,n3,t1) + f(n3,n1,t1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- capPos  =L=  

capPos(n1,n2,t1)..  - 100*x(n1,n2) + f(n1,n2,t1) =L= 0 ; (LHS = 0)
     
capPos(n1,n2,t2)..  - 100*x(n1,n2) + f(n1,n2,t2) =L= 0 ; (LHS = 0)
     
capPos(n1,n3,t1)..  - 100*x(n1,n3) + f(n1,n3,t1) =L= 0 ; (LHS = 0)
     
REMAINING 9 ENTRIES SKIPPED


---- capNeg  =L=  

capNeg(n1,n2,t1)..  - 100*x(n1,n2) - f(n1,n2,t1) =L= 0 ; (LHS = 0)
     
capNeg(n1,n2,t2)..  - 100*x(n1,n2) - f(n1,n2,t2) =L= 0 ; (LHS = 0)
     
capNeg(n1,n3,t1)..  - 100*x(n1,n3) - f(n1,n3,t1) =L= 0 ; (LHS = 0)
     
REMAINING 9 ENTRIES SKIPPED


---- balance  =E=  

balance(n1,t1)..  f(n2,n1,t1) + f(n3,n1,t1) + g(n1,t1) + L(n1,t1) - W(n1,t1) - C(n1,t1) + R(n1,t1) =E= 20 ; (LHS = 0, INFES = 20 ****)
     
balance(n1,t2)..  f(n2,n1,t2) + f(n3,n1,t2) + g(n1,t2) + L(n1,t2) - W(n1,t2) - C(n1,t2) + R(n1,t2) =E= 15 ; (LHS = 0, INFES = 15 ****)
     
balance(n2,t1)..  f(n1,n2,t1) + f(n3,n2,t1) + g(n2,t1) + L(n2,t1) - W(n2,t1) - C(n2,t1) + R(n2,t1) =E= 60 ; (LHS = 0, INFES = 60 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- def_h0  =E=  

def_h0(n1)..  - 0.1*E(n1) + h0(n1) =E= 0 ; (LHS = 0)
     
def_h0(n2)..  - 0.1*E(n2) + h0(n2) =E= 0 ; (LHS = 0)
     
def_h0(n3)..  - 0.1*E(n3) + h0(n3) =E= 0 ; (LHS = 0)
     

---- socEnd1  =E=  

socEnd1(n1)..  - C(n1,t1) + R(n1,t1) + h(n1,t1) - h0(n1) =E= 0 ; (LHS = 0)
     
socEnd1(n2)..  - C(n2,t1) + R(n2,t1) + h(n2,t1) - h0(n2) =E= 0 ; (LHS = 0)
     
socEnd1(n3)..  - C(n3,t1) + R(n3,t1) + h(n3,t1) - h0(n3) =E= 0 ; (LHS = 0)
     

---- socEndF  =E=  

socEndF(n1,t2)..  - C(n1,t2) + R(n1,t2) - h(n1,t1) + h(n1,t2) =E= 0 ; (LHS = 0)
     
socEndF(n2,t2)..  - C(n2,t2) + R(n2,t2) - h(n2,t1) + h(n2,t2) =E= 0 ; (LHS = 0)
     
socEndF(n3,t2)..  - C(n3,t2) + R(n3,t2) - h(n3,t1) + h(n3,t2) =E= 0 ; (LHS = 0)
     

---- terminalEnd  =E=  

terminalEnd(n1)..  h(n1,t2) =E= 0 ; (LHS = 0)
     
terminalEnd(n2)..  h(n2,t2) =E= 0 ; (LHS = 0)
     
terminalEnd(n3)..  h(n3,t2) =E= 0 ; (LHS = 0)
     

---- disEnergyCap0  =L=  

disEnergyCap0(n1)..  R(n1,t1) - 0.1*E(n1) =L= 0 ; (LHS = 0)
     
disEnergyCap0(n2)..  R(n2,t1) - 0.1*E(n2) =L= 0 ; (LHS = 0)
     
disEnergyCap0(n3)..  R(n3,t1) - 0.1*E(n3) =L= 0 ; (LHS = 0)
     

---- disEnergyCapF  =L=  

disEnergyCapF(n1,t2)..  R(n1,t2) - h(n1,t1) =L= 0 ; (LHS = 0)
     
disEnergyCapF(n2,t2)..  R(n2,t2) - h(n2,t1) =L= 0 ; (LHS = 0)
     
disEnergyCapF(n3,t2)..  R(n3,t2) - h(n3,t1) =L= 0 ; (LHS = 0)
     

---- chgEnergyCap0  =L=  

chgEnergyCap0(n1)..  C(n1,t1) - E(n1) + h0(n1) =L= 0 ; (LHS = 0)
     
chgEnergyCap0(n2)..  C(n2,t1) - E(n2) + h0(n2) =L= 0 ; (LHS = 0)
     
chgEnergyCap0(n3)..  C(n3,t1) - E(n3) + h0(n3) =L= 0 ; (LHS = 0)
     

---- chgEnergyCapF  =L=  

chgEnergyCapF(n1,t2)..  C(n1,t2) + h(n1,t1) - E(n1) =L= 0 ; (LHS = 0)
     
chgEnergyCapF(n2,t2)..  C(n2,t2) + h(n2,t1) - E(n2) =L= 0 ; (LHS = 0)
     
chgEnergyCapF(n3,t2)..  C(n3,t2) + h(n3,t1) - E(n3) =L= 0 ; (LHS = 0)
     

---- socBox  =L=  

socBox(n1,t1)..  h(n1,t1) - E(n1) =L= 0 ; (LHS = 0)
     
socBox(n1,t2)..  h(n1,t2) - E(n1) =L= 0 ; (LHS = 0)
     
socBox(n2,t1)..  h(n2,t1) - E(n2) =L= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- gBox  =L=  

gBox(n1,t1)..  g(n1,t1) =L= 120 ; (LHS = 0)
     
gBox(n1,t2)..  g(n1,t2) =L= 120 ; (LHS = 0)
     
gBox(n2,t1)..  g(n2,t1) =L= 10 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- LBox  =L=  

LBox(n1,t1)..  L(n1,t1) =L= 20 ; (LHS = 0)
     
LBox(n1,t2)..  L(n1,t2) =L= 15 ; (LHS = 0)
     
LBox(n2,t1)..  L(n2,t1) =L= 60 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- WleqG  =L=  

WleqG(n1,t1)..  - g(n1,t1) + W(n1,t1) =L= 0 ; (LHS = 0)
     
WleqG(n1,t2)..  - g(n1,t2) + W(n1,t2) =L= 0 ; (LHS = 0)
     
WleqG(n2,t1)..  - g(n2,t1) + W(n2,t1) =L= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED

GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 3
SETUP
Column Listing      SOLVE plan Using MIP From line 178


---- x  line built (1=yes)

x(n1,n2)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
  -9.000000E+6  obj
        1       symm(n1,n2)
     -100       capPos(n1,n2,t1)
     -100       capPos(n1,n2,t2)
     -100       capNeg(n1,n2,t1)
     -100       capNeg(n1,n2,t2)

x(n1,n3)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
  -1.350000E+7  obj
        1       symm(n1,n3)
     -100       capPos(n1,n3,t1)
     -100       capPos(n1,n3,t2)
     -100       capNeg(n1,n3,t1)
     -100       capNeg(n1,n3,t2)

x(n2,n1)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
       -1       symm(n1,n2)
     -100       capPos(n2,n1,t1)
     -100       capPos(n2,n1,t2)
     -100       capNeg(n2,n1,t1)
     -100       capNeg(n2,n1,t2)

REMAINING 3 ENTRIES SKIPPED

---- f  flow [MW]

f(n1,n2,t1)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       antisym(n1,n2,t1)
        1       capPos(n1,n2,t1)
       -1       capNeg(n1,n2,t1)
        1       balance(n2,t1)

f(n1,n2,t2)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       antisym(n1,n2,t2)
        1       capPos(n1,n2,t2)
       -1       capNeg(n1,n2,t2)
        1       balance(n2,t2)

f(n1,n3,t1)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       antisym(n1,n3,t1)
        1       capPos(n1,n3,t1)
       -1       capNeg(n1,n3,t1)
        1       balance(n3,t1)

REMAINING 9 ENTRIES SKIPPED

---- g  generation [MW]

g(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -20       obj
        1       balance(n1,t1)
        1       gBox(n1,t1)
       -1       WleqG(n1,t1)

g(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -20       obj
        1       balance(n1,t2)
        1       gBox(n1,t2)
       -1       WleqG(n1,t2)

g(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -60       obj
        1       balance(n2,t1)
        1       gBox(n2,t1)
       -1       WleqG(n2,t1)

REMAINING 3 ENTRIES SKIPPED

---- L  load shedding [MW]

L(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -1.00000E+17  obj
        1       balance(n1,t1)
        1       LBox(n1,t1)

L(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -1.00000E+17  obj
        1       balance(n1,t2)
        1       LBox(n1,t2)

L(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -1.00000E+17  obj
        1       balance(n2,t1)
        1       LBox(n2,t1)

REMAINING 3 ENTRIES SKIPPED

---- W  generation rejection [MW]

W(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -500000       obj
       -1       balance(n1,t1)
        1       WleqG(n1,t1)

W(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -500000       obj
       -1       balance(n1,t2)
        1       WleqG(n1,t2)

W(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
  -500000       obj
       -1       balance(n2,t1)
        1       WleqG(n2,t1)

REMAINING 3 ENTRIES SKIPPED

---- C  charging [MW]

C(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       balance(n1,t1)
       -1       socEnd1(n1)
        1       chgEnergyCap0(n1)

C(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       balance(n1,t2)
       -1       socEndF(n1,t2)
        1       chgEnergyCapF(n1,t2)

C(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       balance(n2,t1)
       -1       socEnd1(n2)
        1       chgEnergyCap0(n2)

REMAINING 3 ENTRIES SKIPPED

---- R  discharging [MW]

R(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       balance(n1,t1)
        1       socEnd1(n1)
        1       disEnergyCap0(n1)

R(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       balance(n1,t2)
        1       socEndF(n1,t2)
        1       disEnergyCapF(n1,t2)

R(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       balance(n2,t1)
        1       socEnd1(n2)
        1       disEnergyCap0(n2)

REMAINING 3 ENTRIES SKIPPED

---- h  state of charge [MWh]

h(n1,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       socEnd1(n1)
       -1       socEndF(n1,t2)
       -1       disEnergyCapF(n1,t2)
        1       chgEnergyCapF(n1,t2)
        1       socBox(n1,t1)

h(n1,t2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       socEndF(n1,t2)
        1       terminalEnd(n1)
        1       socBox(n1,t2)

h(n2,t1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       socEnd1(n2)
       -1       socEndF(n2,t2)
       -1       disEnergyCapF(n2,t2)
        1       chgEnergyCapF(n2,t2)
        1       socBox(n2,t1)

REMAINING 3 ENTRIES SKIPPED

---- E  storage energy [MWh]

E(n1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       obj
       -0.1     def_h0(n1)
       -0.1     disEnergyCap0(n1)
       -1       chgEnergyCap0(n1)
       -1       chgEnergyCapF(n1,t2)
       -1       socBox(n1,t1)
       -1       socBox(n1,t2)

E(n2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       obj
       -0.1     def_h0(n2)
       -0.1     disEnergyCap0(n2)
       -1       chgEnergyCap0(n2)
       -1       chgEnergyCapF(n2,t2)
       -1       socBox(n2,t1)
       -1       socBox(n2,t2)

E(n3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       obj
       -0.1     def_h0(n3)
       -0.1     disEnergyCap0(n3)
       -1       chgEnergyCap0(n3)
       -1       chgEnergyCapF(n3,t2)
       -1       socBox(n3,t1)
       -1       socBox(n3,t2)


---- OF  objective function

OF
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- h0  SOC at start of t1 [MWh]

h0(n1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       def_h0(n1)
       -1       socEnd1(n1)
        1       chgEnergyCap0(n1)

h0(n2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       def_h0(n2)
       -1       socEnd1(n2)
        1       chgEnergyCap0(n2)

h0(n3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       def_h0(n3)
       -1       socEnd1(n3)
        1       chgEnergyCap0(n3)

GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 4
SETUP
Range Statistics    SOLVE plan Using MIP From line 178


RANGE STATISTICS (ABSOLUTE NON-ZERO FINITE VALUES)

RHS       [min, max] : [ 1.000E+01, 1.200E+02] - Zero values observed as well
Bound     [min, max] : [        NA,        NA] - Zero values observed as well
Matrix    [min, max] : [ 1.000E-01, 1.000E+17]

GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 5
SETUP
Model Statistics    SOLVE plan Using MIP From line 178


MODEL STATISTICS

BLOCKS OF EQUATIONS          18     SINGLE EQUATIONS           88
BLOCKS OF VARIABLES          11     SINGLE VARIABLES           61
NON ZERO ELEMENTS           232     DISCRETE VARIABLES          6


GENERATION TIME      =        0.015 SECONDS      4 MB  51.2.0 56392656 WEX-WEI
GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 6
SETUP
Solution Report     SOLVE plan Using MIP From line 178


               S O L V E      S U M M A R Y

     MODEL   plan                OBJECTIVE  OF
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  178

**** SOLVER STATUS     1 Normal Completion
**** MODEL STATUS      1 Optimal
**** OBJECTIVE VALUE           166000.0000

 RESOURCE USAGE, LIMIT          0.000 10000000000.000
 ITERATION COUNT, LIMIT         3    2147483647
*** This solver runs with a demo license. No commercial use.
--- GMO setup time: 0.00s
--- GMO memory 0.51 Mb (peak 0.52 Mb)
--- Dictionary memory 0.00 Mb
--- Cplex 22.1.2.0 link memory 0.00 Mb (peak 0.01 Mb)
--- Starting Cplex


--- MIP status (101): integer optimal solution.
--- Cplex Time: 0.00sec (det. 2.07 ticks)

--- Returning a primal only solution to GAMS (marginals all set to NA).
--- Fixing integer variables and solving final LP...


--- Fixed MIP status (1): optimal.
--- Cplex Time: 0.00sec (det. 0.11 ticks)


Proven optimal solution
MIP Solution:       166000.000000    (3 iterations, 0 nodes)
Final Solve:        166000.000000    (4 iterations)

Best possible:      166000.000000
Absolute gap:            0.000000
Relative gap:            0.000000


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj                 .              .              .             1.0000      

---- EQU symm  

             LOWER          LEVEL          UPPER         MARGINAL

n1.n2          .              .              .              .          
n1.n3          .              .              .              .          
n2.n3          .              .              .              .          

---- EQU antisym  

                LOWER          LEVEL          UPPER         MARGINAL

n1.n2.t1          .              .              .              .          
n1.n2.t2          .              .              .              .          
n1.n3.t1          .              .              .              .          
n1.n3.t2          .              .              .              .          
n2.n3.t1          .              .              .              .          
n2.n3.t2          .              .              .              .          

---- EQU capPos  

                LOWER          LEVEL          UPPER         MARGINAL

n1.n2.t1        -INF             .              .              .          
n1.n2.t2        -INF             .              .              .          
n1.n3.t1        -INF             .              .              .          
n1.n3.t2        -INF             .              .              .          
n2.n1.t1        -INF             .              .              .          
n2.n1.t2        -INF             .              .              .          
n2.n3.t1        -INF             .              .              .          
n2.n3.t2        -INF             .              .              .          
n3.n1.t1        -INF             .              .              .          
n3.n1.t2        -INF             .              .              .          
n3.n2.t1        -INF             .              .              .          
n3.n2.t2        -INF             .              .              .          

---- EQU capNeg  

                LOWER          LEVEL          UPPER         MARGINAL

n1.n2.t1        -INF             .              .              .          
n1.n2.t2        -INF             .              .              .          
n1.n3.t1        -INF             .              .              .          
n1.n3.t2        -INF             .              .              .          
n2.n1.t1        -INF             .              .              .          
n2.n1.t2        -INF             .              .              .          
n2.n3.t1        -INF             .              .              .          
n2.n3.t2        -INF             .              .              .          
n3.n1.t1        -INF             .              .              .          
n3.n1.t2        -INF             .              .              .          
n3.n2.t1        -INF             .              .              .          
n3.n2.t2        -INF             .              .              .          

---- EQU balance  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1        20.0000        20.0000        20.0000        20.0000      
n1.t2        15.0000        15.0000        15.0000        20.0000      
n2.t1        60.0000        60.0000        60.0000      1200.0000      
n2.t2        70.0000        70.0000        70.0000      1200.0000      
n3.t1        40.0000        40.0000        40.0000      1200.0000      
n3.t2        30.0000        30.0000        30.0000      1200.0000      

---- EQU def_h0  

          LOWER          LEVEL          UPPER         MARGINAL

n1          .              .              .           -20.0000      
n2          .              .              .         -1200.0000      
n3          .              .              .         -1200.0000      

---- EQU socEnd1  

          LOWER          LEVEL          UPPER         MARGINAL

n1          .              .              .           -20.0000      
n2          .              .              .         -1200.0000      
n3          .              .              .         -1200.0000      

---- EQU socEndF  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t2          .              .              .           -20.0000      
n2.t2          .              .              .         -1200.0000      
n3.t2          .              .              .         -1200.0000      

---- EQU terminalEnd  

          LOWER          LEVEL          UPPER         MARGINAL

n1          .              .              .              .          
n2          .              .              .              .          
n3          .              .              .              .          

---- EQU disEnergyCap0  

          LOWER          LEVEL          UPPER         MARGINAL

n1        -INF             .              .              .          
n2        -INF          -55.0000          .              .          
n3        -INF          -10.0000          .              .          

---- EQU disEnergyCapF  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t2        -INF             .              .              .          
n2.t2        -INF             .              .              .          
n3.t2        -INF             .              .              .          

---- EQU chgEnergyCap0  

          LOWER          LEVEL          UPPER         MARGINAL

n1        -INF             .              .              .          
n2        -INF         -945.0000          .              .          
n3        -INF         -270.0000          .              .          

---- EQU chgEnergyCapF  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t2        -INF             .              .              .          
n2.t2        -INF         -995.0000          .              .          
n3.t2        -INF         -290.0000          .              .          

---- EQU socBox  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1        -INF             .              .             EPS         
n1.t2        -INF             .              .              .          
n2.t1        -INF         -995.0000          .              .          
n2.t2        -INF        -1050.0000          .              .          
n3.t1        -INF         -290.0000          .              .          
n3.t2        -INF         -300.0000          .              .          

---- EQU gBox  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1        -INF           20.0000       120.0000          .          
n1.t2        -INF           15.0000       120.0000          .          
n2.t1        -INF           10.0000        10.0000     -1140.0000      
n2.t2        -INF           15.0000        15.0000     -1140.0000      
n3.t1        -INF           20.0000        20.0000     -1155.0000      
n3.t2        -INF           20.0000        20.0000     -1155.0000      

---- EQU LBox  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1        -INF             .            20.0000          .          
n1.t2        -INF             .            15.0000          .          
n2.t1        -INF             .            60.0000          .          
n2.t2        -INF             .            70.0000          .          
n3.t1        -INF             .            40.0000          .          
n3.t2        -INF             .            30.0000          .          

---- EQU WleqG  

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1        -INF          -20.0000          .              .          
n1.t2        -INF          -15.0000          .              .          
n2.t1        -INF          -10.0000          .              .          
n2.t2        -INF          -15.0000          .              .          
n3.t1        -INF          -20.0000          .              .          
n3.t2        -INF          -20.0000          .              .          

---- VAR x  line built (1=yes)

             LOWER          LEVEL          UPPER         MARGINAL

n1.n2          .              .              .       9000000.0000      
n1.n3          .              .              .       1.3500000E+7      
n2.n1          .              .              .             EPS         
n2.n3          .              .              .       7500000.0000      
n3.n1          .              .              .             EPS         
n3.n2          .              .              .             EPS         

---- VAR f  flow [MW]

                LOWER          LEVEL          UPPER         MARGINAL

n1.n2.t1          .              .              .         -1200.0000      
n1.n2.t2          .              .              .         -1200.0000      
n1.n3.t1          .              .              .         -1200.0000      
n1.n3.t2          .              .              .         -1200.0000      
n2.n1.t1          .              .              .           -20.0000      
n2.n1.t2          .              .              .           -20.0000      
n2.n3.t1          .              .              .         -1200.0000      
n2.n3.t2          .              .              .         -1200.0000      
n3.n1.t1          .              .              .           -20.0000      
n3.n1.t2          .              .              .           -20.0000      
n3.n2.t1          .              .              .         -1200.0000      
n3.n2.t2          .              .              .         -1200.0000      

---- VAR g  generation [MW]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .            20.0000        +INF             .          
n1.t2          .            15.0000        +INF             .          
n2.t1          .            10.0000        +INF             .          
n2.t2          .            15.0000        +INF             .          
n3.t1          .            20.0000        +INF             .          
n3.t2          .            20.0000        +INF             .          

---- VAR L  load shedding [MW]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .              .            +INF      1.000000E+17      
n1.t2          .              .            +INF      1.000000E+17      
n2.t1          .              .            +INF      1.000000E+17      
n2.t2          .              .            +INF      1.000000E+17      
n3.t1          .              .            +INF      1.000000E+17      
n3.t2          .              .            +INF      1.000000E+17      

---- VAR W  generation rejection [MW]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .              .            +INF       500020.0000      
n1.t2          .              .            +INF       500020.0000      
n2.t1          .              .            +INF       501200.0000      
n2.t2          .              .            +INF       501200.0000      
n3.t1          .              .            +INF       501200.0000      
n3.t2          .              .            +INF       501200.0000      

---- VAR C  charging [MW]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .              .            +INF             .          
n1.t2          .              .            +INF            EPS         
n2.t1          .              .            +INF            EPS         
n2.t2          .              .            +INF            EPS         
n3.t1          .              .            +INF            EPS         
n3.t2          .              .            +INF            EPS         

---- VAR R  discharging [MW]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .              .            +INF            EPS         
n1.t2          .              .            +INF             .          
n2.t1          .            50.0000        +INF             .          
n2.t2          .            55.0000        +INF             .          
n3.t1          .            20.0000        +INF             .          
n3.t2          .            10.0000        +INF             .          

---- VAR h  state of charge [MWh]

             LOWER          LEVEL          UPPER         MARGINAL

n1.t1          .              .            +INF             .          
n1.t2          .              .            +INF           20.0000      
n2.t1          .            55.0000        +INF             .          
n2.t2          .              .            +INF         1200.0000      
n3.t1          .            10.0000        +INF             .          
n3.t2          .              .            +INF         1200.0000      

---- VAR E  storage energy [MWh]

          LOWER          LEVEL          UPPER         MARGINAL

n1          .              .            +INF          118.0000      
n2          .          1050.0000        +INF             .          
n3          .           300.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR OF                -INF       166000.0000        +INF             .          

  OF  objective function

---- VAR h0  SOC at start of t1 [MWh]

          LOWER          LEVEL          UPPER         MARGINAL

n1          .              .            +INF             .          
n2          .           105.0000        +INF             .          
n3          .            30.0000        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 51.2.0  56392656 Sep 29, 2025          WEX-WEI x86 64bit/MS Windows - 10/25/25 14:41:37 Page 7
SETUP
E x e c u t i o n


----    183 LINE BUILT ============================================== 

----    186 PARAMETER built_line  

                      ( ALL       0.000 )


----    188 STORAGE BUILT ============================================== 

----    191 PARAMETER built_store  

n2 1050.000,    n3  300.000


----    194 COST BREAKDOWN ============================================== 

----    208 PARAMETER cost_lines           =        0.000  Line CAPEX
            PARAMETER cost_store           =   162000.000  Storage energy CAPEX
            PARAMETER cost_voll            =        0.000  Shed penalty
            PARAMETER cost_curt            =        0.000  Curtailment penalty
            PARAMETER cost_gen             =     4000.000  Generation operating cost
            PARAMETER cost_total           =   166000.000  Objective value (OF)

----    211 OPERATIONS SUMMARY - NODE LEVEL ===================================== 

----    229 PARAMETER dem  demand [MW]

            t1          t2

n1      20.000      15.000
n2      60.000      70.000
n3      40.000      30.000


----    229 PARAMETER gen  generation [MW]

            t1          t2

n1      20.000      15.000
n2      10.000      15.000
n3      20.000      20.000


----    229 PARAMETER shed  load shedding [MW]

                      ( ALL       0.000 )


----    229 PARAMETER curt  generation rejection [MW]

                      ( ALL       0.000 )


----    229 PARAMETER charge  charging [MW]

                      ( ALL       0.000 )


----    229 PARAMETER discharge  discharging [MW]

            t1          t2

n2      50.000      55.000
n3      20.000      10.000


----    229 PARAMETER soc  initial SOC[MWh]

n2 105.000,    n3  30.000


----    232 OPERATIONS SUMMARY - SYSTEM LEVEL ===================================== 

----    246 PARAMETER dem_t  system demand by time [MW]

t1 120.000,    t2 115.000


----    246 PARAMETER gen_t  system generation by time [MW]

t1 50.000,    t2 50.000


----    246 PARAMETER shed_t  system shed by time [MW]

                      ( ALL       0.000 )


----    246 PARAMETER curt_t  system curtailment by time [MW]

                      ( ALL       0.000 )


----    246 PARAMETER inflow  sum flows into i [MW]

                      ( ALL       0.000 )


----    246 PARAMETER outflow  sum flows out of i [MW]

                      ( ALL       0.000 )


----    249 STORAGE ============================================== 

----    265 PARAMETER h_start  SOC at START of t1 [MWh] = alpha0*E

n2 105.000,    n3  30.000


----    265 PARAMETER h_t1_end  SOC at END of t1 [MWh]

n2 55.000,    n3 10.000


----    265 PARAMETER h_end  SOC at END of last period [MWh]

                      ( ALL       0.000 )


----    265 PARAMETER R_sum  sum discharge over horizon [MWh]

n2 105.000,    n3  30.000


----    265 PARAMETER C_sum  sum charge over horizon [MWh]

                      ( ALL       0.000 )


----    265 PARAMETER Storage_check  h_start + ΣC - ΣR - h_end (should = 0)

                      ( ALL       0.000 )


----    268 BALANCE CHECK ============================================== 

----    272 PARAMETER balanceResidual  

                      ( ALL       0.000 )



EXECUTION TIME       =        0.062 SECONDS      4 MB  51.2.0 56392656 WEX-WEI


USER: GAMS Demo, for EULA and demo limitations see   G250826+0003Cc-GEN
      https://www.gams.com/latest/docs/UG%5FLicense.html         DC0000


**** FILE SUMMARY

Input      C:\Users\vanqu\OneDrive\Desktop\Thesis\honours-thesis\basics.gms
Output     C:\Users\vanqu\OneDrive\Desktop\Thesis\honours-thesis\outputs\basics.lst
